<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="]Ap^:]Ozj%Y0,yR-T),^">temp</variable><variable id="$o{/9R]dsY)`)BZ},]Vm">connexion ok</variable><variable id="p-+Oq^PghuFe#z0hgO(e">json</variable><variable id="RHTE.d%-#J{X~|#.b(b1">temp2</variable></variables><block type="pxt-on-start" id="@M0+89t.y0o}~oM~}ky=" x="1" y="-190"><statement name="HANDLER"><block type="function_call" id="~D[8:ei0ZaCK@ko|=NUC"><mutation name="setup" functionid="}kbn]}N:9$RwJuC^$zR!"></mutation></block></statement></block><block type="function_definition" id=".P;+V{F:J:~XTY8W$i(," collapsed="true" x="363" y="-207"><mutation name="setup" functionid="}kbn]}N:9$RwJuC^$zR!"></mutation><field name="function_name">setup</field><statement name="STACK"><block type="radio_set_group" id="JtB3fT?py!^y[~S~%BGc"><value name="ID"><shadow type="math_number_minmax" id="dVl95lE0~@c%NyisSLQ-"><mutation min="0" max="255" label="Id" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="variables_set" id="^W8k-_OM*Hz2ma.M~E+U"><field name="VAR" id="$o{/9R]dsY)`)BZ},]Vm">connexion ok</field><value name="VALUE"><shadow type="math_number" id="TVJ!b7cd4GlW?KjkOE7#"><field name="NUM">0</field></shadow></value><next><block type="ESP8266_IoT_initWIFI" id="jHtl(gJK[-QZ}GZ@b)qb"><field name="tx">SerialPin.P8</field><field name="rx">SerialPin.P12</field><field name="baudrate">BaudRate.BaudRate115200</field><next><block type="ESP8266_IoT_connectWifi" id="8NVRtn2o[f0?w:RUcufT"><value name="ssid"><shadow type="text" id="i!HO0LvQ9Ch).%c5:~_]"><field name="TEXT">Eglantier</field></shadow></value><value name="pw"><shadow type="text" id="PuY[BV/_6C%uh@jv|4h8"><field name="TEXT">F72EFAD46155EFC67631347941</field></shadow></value><next><block type="initMQTT" id=".o#TM(/yI2s|VDb[rd$~"><field name="scheme">ESP8266_IoT.SchemeList.TLS</field><value name="clientID"><shadow type="text" id="W.`xl/1TS#.Hcy@)CFjZ"><field name="TEXT">nhykjnbvc</field></shadow></value><value name="username"><shadow type="text" id="mtbJKBgj#S*6X/mgdV/B"><field name="TEXT">fablab2122</field></shadow></value><value name="password"><shadow type="text" id="K[qeg.x]QlBX@PidIq#G"><field name="TEXT">2122</field></shadow></value><value name="path"><shadow type="text" id="T.(6{=3/DQa}Yxc~I+LT"><field name="TEXT"></field></shadow></value><next><block type="connectMQTT" id="+H0_^f|2(6IIljzl$b35"><value name="host"><shadow type="text" id="}rgbvUQ!w[..v{.2?V?g"><field name="TEXT">mqtt.univ-cotedazur.fr</field></shadow></value><value name="port"><shadow type="math_number" id="xWwH8pqIYg2!sCb])892"><field name="NUM">8443</field></shadow></value><value name="reconnect"><shadow type="logic_boolean" id="{@2Hu=Q;r]X7WJsUa`A4"><field name="BOOL">TRUE</field></shadow></value><next><block type="device_while" id="Ur1=lU939lFcAf5U9htZ"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">FALSE</field></shadow><block type="logic_compare" id="kpMsNt82|ddh2*=A=+MJ"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="H9gH+):(dSVAVnSO@m$0"><field name="VAR" id="$o{/9R]dsY)`)BZ},]Vm">connexion ok</field></block></value><value name="B"><shadow type="math_number" id="6doA.2OGiaP-CvwUYIE@"><field name="NUM">0</field></shadow></value></block></value><statement name="DO"><block type="function_call" id="vhTNG???@XH;yU^JWSOs"><mutation name="verification connexion wifi mqtt" functionid=";6?XKU`rAnKtY-da2PKS"></mutation></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="T,AaFvQv^[HwD_(6pz#3" collapsed="true" x="769" y="-201"><mutation name="verification connexion wifi mqtt" functionid=";6?XKU`rAnKtY-da2PKS"></mutation><field name="function_name">verification connexion wifi mqtt</field><statement name="STACK"><block type="basic_show_icon" id="3-@XU/@`X0[$4Y+iWY5*"><field name="i">IconNames.SmallDiamond</field><next><block type="device_pause" id="2LpK5-p:X[}pRc!BqEcf"><value name="pause"><shadow type="timePicker" id="VpCfkT#op7#YPfNKayqY"><field name="ms">500</field></shadow></value><next><block type="device_clear_display" id="OL|a:W@G{2vY]48}Do.6"><next><block type="controls_if" id="%G({L+mr:8a$B5Zi)tnN"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="[cGDX#QHC:HaV6Cg9COX"><field name="OP">AND</field><value name="A"><block type="ESP8266_IoT_wifiState" id="vL+0A;SnO^kscZk5$=!0"><value name="State"><shadow type="logic_boolean" id="69fba?c?f`y~=fWLm7?G"><field name="BOOL">TRUE</field></shadow></value></block></value><value name="B"><block type="ESP8266_IoT_isMqttBrokerConnected" id="DX+g0I5do+!8rwFnkC2g"></block></value></block></value><statement name="DO0"><block type="basic_show_icon" id="f%;yWrU!l;#oWL~Ft6aC"><field name="i">IconNames.Yes</field><next><block type="variables_set" id="MqJY2ysxa/;?{mdIO1J["><field name="VAR" id="$o{/9R]dsY)`)BZ},]Vm">connexion ok</field><value name="VALUE"><shadow type="math_number" id="I;4#FR9flZ;gcE4K*kVa"><field name="NUM">1</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="basic_show_icon" id="OQymdK]K6UhcU*Bz+~W?"><field name="i">IconNames.Sad</field></block></statement><next><block type="device_pause" id="I?a`6s|WyT(8I{{M)b[/"><value name="pause"><shadow type="timePicker" id="Te(q?(;r*@ySd}^B*coq"><field name="ms">1000</field></shadow></value><next><block type="device_clear_display" id="~mX+K|S*rOVBo8l0yBcF"></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="every_interval" id="ZfvKs_cJxwn`*u^1JSYt" x="0" y="0"><value name="interval"><shadow type="longTimePicker" id="Q5Zhg!x=RVMl-(A_(Se="><field name="ms">2000</field></shadow></value><statement name="HANDLER"><block type="function_call" id="6Np[=LcQp|F?y~rh!^wX"><mutation name="envoi données sur mqtt" functionid="1b,|OnKchcL);PLZY0S$"></mutation></block></statement></block><block type="function_definition" id="jGiXg6o1jYW^xeT:l,k5" collapsed="true" x="3" y="145"><mutation name="envoi données sur mqtt" functionid="1b,|OnKchcL);PLZY0S$"></mutation><field name="function_name">envoi données sur mqtt</field><statement name="STACK"><block type="variables_set" id="|tCYlZocNc~fc7T8^}@c"><field name="VAR" id="]Ap^:]Ozj%Y0,yR-T),^">temp</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="IF|oVN=3Z6bbBq|4N!sv"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="`;-h3Y3(lerROwffOowQ"><field name="OP">round</field><value name="ARG0"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="oY2oyQ)WQBwDS2X2*:.#"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="celsius" id="Ud3NqRcJ*:zmEW/qfg@P"><field name="pin">DigitalPin.P1</field></block></value><value name="B"><shadow type="math_number" id="q~TeT8K@i,ENzY`2Sfw%"><field name="NUM">10</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number" id="gNa}BPSPO:}stDt)~S(5"><field name="NUM">10</field></shadow></value></block></value><next><block type="device_show_number" id="oALjVt5a9(1Vl[Vf)(Yn"><value name="number"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="nl54$ldR!-(3Cn:1`vZO"><field name="VAR" id="]Ap^:]Ozj%Y0,yR-T),^">temp</field></block></value><next><block type="sendMQTT" id=".iF!%hpGti}{@fMLSxZW"><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="msg"><shadow type="text"><field name="TEXT">json</field></shadow><block type="text_join" id="87:qyd_he~D?S?SH$Az`"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="amX(,vaLe}b~`[y8`mD}"><field name="TEXT">{\"temp0\":</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT">Monde</field></shadow><block type="variable_to_text" id="twIi`*A}?0q?9CMScU2_"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Wm6s#NzCI*-s6B2=OZmy"><field name="VAR" id="]Ap^:]Ozj%Y0,yR-T),^">temp</field></block></value></block></value><value name="ADD2"><shadow type="text" id="_!MW710wwgo?9LV^:eb%"><field name="TEXT">}</field></shadow></value></block></value><value name="topic"><shadow type="text" id="gLI;pOYdRAI}[!wm%#_r"><field name="TEXT">FABLAB_21_22/temperature/temp0/</field></shadow></value></block></next></block></next></block></statement></block><block type="radio_on_value_drag" id="z%YJaofk,Ggk]Y$+L^)/" x="6" y="445"><comment pinned="false" h="125" w="316">Publie sur mqtt les températures des autres micro:bit connectés en bluetooth</comment><value name="HANDLER_DRAG_PARAM_name"><shadow type="argument_reporter_string" id="2dA_NYx4ktDkX!U=Tvco"><field name="VALUE">name</field></shadow></value><value name="HANDLER_DRAG_PARAM_value"><shadow type="argument_reporter_number" id="2~9C+h6_:U,l[Aoo{U~{"><field name="VALUE">value</field></shadow></value><statement name="HANDLER"><block type="sendMQTT" id="TrYsJYfNiI#9HHQKU}+/"><field name="qos">ESP8266_IoT.QosList.Qos0</field><comment pinned="false" h="112" w="211">pour le json ne pas oublier le caractère \ avant "  !!!!</comment><value name="msg"><shadow type="text"><field name="TEXT">json</field></shadow><block type="text_join" id="0a6R(aP,ZNbw35*?f`E~" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text" id="/uxsP{q1.!-o/jDyv`Me"><field name="TEXT">{\"</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT">Monde</field></shadow><block type="argument_reporter_string" id="Z`i_)nsr{F^N?*5AU_`U"><field name="VALUE">name</field></block></value><value name="ADD2"><shadow type="text" id="Qi$TiU!}d4wL1M|3Yy3n"><field name="TEXT">\":</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"></field></shadow><block type="variable_to_text" id="NQPZkbC/^VGODv/:~b/?"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="$)gQWV4evugELoVO_,+E"><field name="VALUE">value</field></block></value></block></value><value name="ADD4"><shadow type="text" id="ROXX-d6~:T~F/i~7eQ.p"><field name="TEXT">}</field></shadow></value></block></value><value name="topic"><shadow type="text"><field name="TEXT">FABLAB_21_22/temperature/</field></shadow><block type="text_join" id="@5k8ZOu/W0f@ILx9Q/}b"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="8mx(.djdLnxt+@aOrD~_"><field name="TEXT">FABLAB_21_22/temperature/</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="{pr-;Dfgu8_cy$mo2::*"><field name="VALUE">name</field></block></value><value name="ADD2"><shadow type="text" id="m(oV]oPj*j0y9n/:|MW{"><field name="TEXT">/</field></shadow></value></block></value></block></statement></block><block type="sendMQTT" id="f`p-t1u@GYtnUb{-H5Zf" disabled="true" x="20" y="919"><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="msg"><shadow type="text" id="+xA;x;0RVmLd^[TwZ5Ru" disabled="true"><field name="TEXT">{\"temp\":12.35}</field></shadow></value><value name="topic"><shadow type="text" id="aXF8tQdd0`Qpw;?)Hs_Y" disabled="true"><field name="TEXT">FABLAB_21_22/temperature/</field></shadow></value></block><block type="connectMQTT" id="NpL+L1(Fxg=Cij@z.Q|f" disabled="true" x="19" y="1046"><value name="host"><shadow type="text" id="%@d^@7w#kSCj7q_O368v" disabled="true"><field name="TEXT">webprofs.fr</field></shadow></value><value name="port"><shadow type="math_number" id="MXp=[7m1G,dmeg4Nm@RL" disabled="true"><field name="NUM">8883</field></shadow></value><value name="reconnect"><shadow type="logic_boolean" id="1W~QQP.:G-}!J?P~tIz}" disabled="true"><field name="BOOL">TRUE</field></shadow></value></block></xml>